(this.webpackJsonpa3_react=this.webpackJsonpa3_react||[]).push([[0],{70:function(t,e,s){},71:function(t,e,s){},83:function(t,e,s){"use strict";s.r(e);var i=s(0),a=s.n(i),o=s(9),r=s.n(o),n=(s(70),s(71),s(113)),h=s(57),l=s(117),c=s(118),d=s(119),u=s(45),p=s.p+"static/media/redHat.05b0a36c.png",g=s(2);Object(n.a)((t=>({root:{display:"flex",flexWarp:"wrap"},textField:{marginLeft:t.spacing(1),marginRight:t.spacing(1)}})));const y=Object(h.a)({palette:{primary:u.a}});class m extends a.a.Component{constructor(t){super(t),this.state={username:"",password:""},this.updateUsername=this.updateUsername.bind(this),this.updatePassword=this.updatePassword.bind(this)}updateUsername(t){""!==t.target.value&&this.setState({username:t.target.value})}updatePassword(t){""!==t.target.value&&this.setState({password:t.target.value})}render(){return Object(g.jsxs)("div",{className:"title",style:{textAlign:"center",background:"white",padding:"20px",borderRadius:"10px",fontFamily:"Futura, sans-serif",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(g.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(g.jsx)("img",{src:p,alt:"Red Hat Logo",style:{width:"200px",height:"auto",border:"none"}})}),Object(g.jsx)(c.a,{label:"Username",style:{margin:8},placeholder:"Enter Username",InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},onChange:this.updateUsername,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{label:"Password",type:"password",style:{margin:8},InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},placeholder:"Enter Password",onChange:this.updatePassword,margin:"normal",variant:"outlined"}),Object(g.jsx)("p",{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif",color:"#e1793d",fontWeight:"bold"},children:this.props.error}),Object(g.jsxs)(l.a,{theme:y,children:[Object(g.jsx)(d.a,{onClick:()=>this.props.loginHandler(this.state.username,this.state.password),variant:"contained",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},children:"Login"}),"\xa0 \xa0 \xa0",Object(g.jsx)(d.a,{onClick:this.props.registrationHandler,variant:"contained",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},children:"Register"})]})]})}}var w=m;class b{constructor(t,e,s,i){this.id=t,this.stage=e,this.position=s,this.colour=i}step(){this.intPosition()}intPosition(){this.x=Math.round(this.position.x),this.y=Math.round(this.position.y)}draw(t){t.drawImage(this.colour,this.x,this.y,25,25)}}class f extends b{constructor(t,e,s,i){super(t,e,s,i),this.width=26,this.height=26,this.x=0,this.y=0,this.intPosition()}toJSON(){return{id:this.id,x:this.x,y:this.y,width:this.width,height:this.height}}}class x{constructor(t,e,s,i,a){this.stage=e,this.id=t,this.position=s,this.colour=i,this.health=a,this.intPosition()}step(){this.intPosition()}intPosition(){this.x=Math.round(this.position.x),this.y=Math.round(this.position.y)}}class v extends x{constructor(t,e,s,i,a,o,r){super(t,e,s,i,a),this.width=o,this.height=r,this.intPosition()}draw(t){var e=t.createPattern(this.colour,"repeat");t.fillStyle=e,t.beginPath(),t.fillRect(this.x,this.y,this.width,this.height),t.fill()}toJSON(){return{id:this.id,x:this.position.x,y:this.position.y,width:this.width,height:this.height,health:this.health}}}var j=s.p+"static/media/grass.b3c2ffc1.jpg",A=s.p+"static/media/brick.6520cf5b.png";var O=new Image;O.src=A;var P=new Image;P.src=j;var S=new Image;S.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QMTBDQ5bHdxEwAABCZJREFUSMe9VUtMnFUU/s658zMzzDAMA5RCQVFox0ImwRWDRopVF43tQqM0Ia5ISDSuXMiicdFuWtKYGCONNUbiSpG4MDFhAU0tMbWPREtFsT6T0obymHZmGGb+eXDvcTEgdIAAtnqSL/f/7z33fOece869wP8kVDgRCARg2/ZTHo/nRaL8slKKQ6HQt6Ojo8MDAwPo7u4GAPZ6va+43e4nARgAKC4ulnA4/EU0Gp0YGRm5z66jkCieSMBo/Uw2lzu2MqeUwsLiohPAcGJx8Z/plG0ftdPplwFAAKSzWbOYSv2YSCYnCu0yACx7TnV1dWXBpqbKCuaS3cagWiQPY1ChdfHT7e2VH509W9Xc3Fz1SH19VSXgWqtTbQxKMpnS2Uik/NChQ/7p6WkaHBxcjUhEAKA0Eol8PB+LhV5iLju+tARe9tRhDL6+cePVY8ABzutCi9A7QM1RraFXziGV4r6rV4/f0fptv8dzgYjejMfjucLUWXYm04Bsdh+JYO/aAxQBJRKBJHNgbTq8xuDxNf+iNeyFhRqbCKlM5g+jFGV03g2Hy+UKlvh87Q6t/W2xWIVfBOFlr2FZwMGDQEUFmiYn0T0+Dl4uEAOgaYPq6hCBE0BZMrnnuba218ThsHt6esbAzK9blpX1WpaMEokAq/D5xFy6JEZETF/f/Wtb4JxS4i0qkspduxa6urpecIgIa2PILJ9HvkQ4D8sClpZWsQMxxkCLQGtNxpj15Q0ACIchvb1AJgPq7wdOnABu3twRUaFsTFRdDRw5AsTjwKlTwPj4A5FsTjQ/D4yNAckksNqg/wHRxYugw4fz3+n0wycyK6PW4FTqoRAgXxBQRJQD8BsB390m2vcVkW8WQCs2uHG3sgngcyJ8yozfS0v/uqb1JzljLjidzm/W6lWC+RqUki5mMTvomRUYQLqYBUrJE83Nw7dmZoreP3NmXeo0A7cN4EsCvh+IKooANIrAvUUkSQA/E0ETIe1wzEBrO2vbt+5MTZl7c3Pr9BUR7Qawx0N8MqCUNColPxXeFhtggkgeZZYqr1c/29r6BoAay7ICnZ2dCAaD6yMSkRlWCimRhRTyb4jG1qIBLAJIE8EVCNxtDYenr1y+jKGhodUoCjcRESDiAnDXAfwSI2o4T+TMAQgW6H5JhHeZMV5aOvMr8GFqaelckWWdj0ajkVgsts0SIgKIGsE8BaWkl3ldynqZBcxS39Dw/Xv9/f6Tp09vas6xKU9+MATcM4AnAbj/BNwrvaaIkGFegDG2zmZno3NzJv0Aze0komYQtZQzf1arlNQqJbXM8pjLJc+HQn0A9rpcrrqWlhYOhUL/mggAUL5/P4j5A1JKVuByu+VAR8dbPr9/WzYc21GKTE6Cma8QUILlQjRa0/zc3PVcJrMtop3cMlSgL1jzVm4lfwNepgb56e4TwQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMy0xOVQwNDo1Mjo1Ny0wNDowMINYE08AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDMtMTlUMDQ6NTI6NTctMDQ6MDDyBavzAAAAAElFTkSuQmCC";var C=0,F=0;class k{constructor(t,e,s,i){this.canvas=t,this.gameState="play",this.actors=[],this.player=null,this.deadPlayer=null,this.score=0,t.width=window.innerWidth,t.height=window.innerHeight,this.numObstacles=40,this.numHealth=20,this.user=s,this.actions={remove:{}},this.width=t.width,this.height=t.height;var a=new R(Math.floor(this.width/2),Math.floor(this.height/2)),o=new R(0,0);this.player=new M(this,a,o,i,15,s),this.populateActors(e)}clearActions(){this.actions={remove:{}}}getActions(){return this.actions}populateActors(t){this.actors=[];for(const[e,s]of Object.entries(t))"health"===e?this.populateHealth(s):"obstacle"===e?this.populateObstacle(s):"player"===e&&this.populatePlayer(s)}populateHealth(t){for(var e=0;e<t.length;e++){var s=t[e],i=new R(s.x,s.y),a=new f(s.id,this,i,S);this.addActor(a)}}populateObstacle(t){for(var e=0;e<t.length;e++){var s=t[e],i=new R(s.x,s.y),a=new v(s.id,this,i,O,s.health,s.width,s.height);this.addActor(a)}}populatePlayer(t){for(var e=0;e<t.length;e++)if(t[e].name!==this.user){var s=t[e],i=new R(s.x,s.y),a=new R(s.xvelocity,s.yvelocity),o=new M(this,i,a,s.colour,s.radius,s.name);this.addActor(o)}else{if(this.player.playerHealth=t[e].playerHealth,this.player.playerHealth<0){!1,this.deadPlayer=this.player,this.removePlayer();break}this.addActor(this.player)}}addPlayer(t){this.addActor(t),this.player=t}removePlayer(){this.removeActor(this.player),this.player=null}getPlayer(){return this.player}addActor(t){this.actors.push(t)}removeActor(t){var e=this.actors.indexOf(t);-1!==e&&this.actors.splice(e,1)}checkObstaclePlayerInitialCollision(t){var e=Math.floor(this.width/2),s=Math.floor(this.height/2);return e>t.position.x&&e<t.position.x+t.width&&s>t.position.y&&s<t.position.y+t.height}serialize(){for(var t={},e=0;e<this.actors.length;e++){var s=this.actors[e].toJSON();this.actors[e]instanceof v?"obstacle"in t?t.obstacle.push(s):t.obstacle=[s]:this.actors[e]instanceof M?"player"in t?t.player.push(s):t.player=[s]:this.actors[e]instanceof f&&("health"in t?t.health.push(s):t.health=[s])}t.remove={};for(const[i,a]of Object.entries(this.actions.remove))for(e=0;e<a.length;e++)i in t.remove?t.remove[i].push(a[e].toJSON()):t.remove[i]=[a[e].toJSON()];return t}step(){if("play"===this.gameState)if(null!==this.player)for(var t=0;t<this.actors.length;t++)this.actors[t].step();else console.log("game over")}draw(){if(null!==this.player){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0);var e=this.clamp(this.player.x-t.canvas.width/2,0,2e3-t.canvas.width),s=this.clamp(this.player.y-t.canvas.height/2,0,2e3-t.canvas.height);C=e,F=s,t.translate(-e,-s),t.clearRect(0,0,this.width,this.height),this.drawBoard(t,50,100,100);for(var i=0;i<this.actors.length;i++)this.actors[i].draw(t)}else console.log("draw over")}getActor(t,e){for(var s=0;s<this.actors.length;s++){if(this.actors[s]instanceof v&&this.checkCollision(this.actors[s],t,e))return this.actors[s];if(this.actors[s]instanceof M&&this.checkCollision(this.actors[s],t,e))return this.actors[s];if(this.actors[s]instanceof f&&this.checkCollision(this.actors[s],t,e))return this.actors[s];if(this.actors[s].x===t&&this.actors[s].y===e)return this.actors[s]}return null}isWon(){return 0===this.numEnemies}clamp(t,e,s){return t<e?e:t>s?s:t}getMousePos(t,e){var s=t.getBoundingClientRect();return{x:e.clientX+C,y:e.clientY-s.top+F}}checkCollision(t,e,s){return e>t.x&&e<t.x+t.width&&s>t.y&&s<t.y+t.height||e+15>t.x&&e+15<t.x+t.width&&s+15>t.y&&s+15<t.y+t.height||e+15>t.x&&e+15<t.x+t.width&&s>t.y&&s<t.y+t.height||e>t.x&&e<t.x+t.width&&s+15>t.y&&s+15<t.y+t.height}drawBoard(t,e,s,i){for(var a=0;a<s;a++)for(var o=0;o<i;o++){var r=t.createPattern(P,"repeat");t.fillStyle=r,t.fillRect(a*e,o*e,e,e)}}}class R{constructor(t,e){this.x=t,this.y=e}toString(){return"("+this.x+","+this.y+")"}normalize(){var t=Math.sqrt(this.x*this.x+this.y*this.y);this.x=this.x/t,this.y=this.y/t}}class M{constructor(t,e,s,i,a,o){this.stage=t,this.user=o,this.position=e,this.intPosition(),this.x=this.position.x,this.y=this.position.y,this.velocity=s,this.xvelocity=this.velocity.x,this.yvelocity=this.velocity.y,this.colour=i,this.radius=a,this.score=0,this.playerHealth=100,this.height=15,this.width=15}headTo(t){this.velocity.x=t.x-this.position.x,this.velocity.y=t.y-this.position.y,this.velocity.normalize()}toString(){return this.position.toString()+" "+this.velocity.toString()}step(){var t=this.position.x,e=this.position.y;this.position.x=this.position.x+this.velocity.x,this.position.y=this.position.y+this.velocity.y;var s=this.stage.getActor(this.position.x,this.position.y);s instanceof v&&(console.log("Obstacle found"),this.position.x=t,this.position.y=e,this.velocity.x=0,this.velocity.y=0),s instanceof f&&this.stage.player.playerHealth<100&&(this.stage.player.addHealth(),console.log("Health found"),"health"in this.stage.actions.remove?this.stage.actions.remove.health.push(s):this.stage.actions.remove.health=[s],this.stage.removeActor(s)),this.position.x<0&&(this.position.x=0,this.velocity.x=Math.abs(this.velocity.x)),this.position.x>2e3&&(this.position.x=this.stage.width,this.velocity.x=-Math.abs(this.velocity.x)),this.position.y<0&&(this.position.y=0,this.velocity.y=Math.abs(this.velocity.y)),this.position.y>2e3&&(this.position.y=this.stage.height,this.velocity.y=-Math.abs(this.velocity.y)),this.intPosition()}intPosition(){this.x=Math.round(this.position.x),this.y=Math.round(this.position.y)}draw(t){t.fillStyle=this.colour,t.beginPath(),t.fillRect(this.x-25,this.y-25,50,this.playerHealth/2e3*15),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),t.fill()}clamp(t,e,s){return t<e?e:t>s?s:t}addHealth(){this.playerHealth+=10}toJSON(){return{name:this.user,x:this.x,y:this.y,xvelocity:this.xvelocity,yvelocity:this.yvelocity,colour:this.colour,radius:this.radius,score:this.score,playerHealth:this.playerHealth,height:this.height,width:this.width}}}var T,G,W,I,L,U=null,B=null,N=[],E=5,Q={},D="http://localhost:8000";function H(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(Math.random()*(t-e)+e)}function J(){if(null===U.player){clearInterval(B);var t={removePlayer:U.deadPlayer};W.send(JSON.stringify(t)),window.appComponent.showGameOver(),console.log("stopGame called"),window.cancelAnimationFrame(L),W.close()}else U.step(),U.draw(),L=requestAnimationFrame(J)}function z(t){if(null!==U.getPlayer()){for(var e=t.key,s={a:new R(-E,0),s:new R(0,E),d:new R(E,0),w:new R(0,-E),"a,s":new R(-E,E),"s,a":new R(-E,E),"a,w":new R(-E,-E),"w,a":new R(-E,-E),"s,d":new R(E,E),"d,s":new R(E,E),"d,w":new R(E,-E),"w,d":new R(E,-E)},i=0;i<N.length;i++)N[i]===e&&N.splice(i,1);0===N.length&&(U.player.velocity=new R(0,0));var a=N.join();a in s&&(U.player.velocity=s[a])}}function q(t){if(null!==U.getPlayer()&&U.player.score,null===U.getPlayer()||U.isWon())if(U.isWon())e=t.key,i={r:"restart"};else e=t.key,i={r:"restart"};else{var e=t.key,s={a:new R(-E,0),s:new R(0,E),d:new R(E,0),w:new R(0,-E),"a,s":new R(-E,E),"s,a":new R(-E,E),"a,w":new R(-E,-E),"w,a":new R(-E,-E),"s,d":new R(E,E),"d,s":new R(E,E),"d,w":new R(E,-E),"w,d":new R(E,-E)},i={r:"restart"};if(!N.includes(e)&&e in s){N.push(e);var a=N.join();a in s&&(U.player.velocity=s[a])}else e in{q:"quit"}?(console.log("pause menu"),window.appComponent.toggleQuitMenu()):e in i&&U.gameState}}function V(){V={addPlayer:U.getPlayer()},W.send(JSON.stringify(V))}async function Y(t,e){const s={username:t,score:e},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)},a=await fetch(D+"/api/update",i);return"Success"in await a.json()}const K=Object(n.a)((t=>({root:{flexGrow:1},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary,height:100},header:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary,height:50}})));function Z(t){const[e,s]=Object(i.useState)("Computer"),a=K();return Object(g.jsx)("div",{className:a.root,children:Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"white"},children:[Object(g.jsx)("h2",{style:{fontFamily:"Futura, sans-serif",color:"#333",marginBottom:"20px"},children:"Controls"}),Object(g.jsx)("div",{style:{fontFamily:"Futura, sans-serif",color:"#555",marginBottom:"20px"},children:Object(g.jsxs)("ul",{style:{listStyleType:"none",padding:"0",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(g.jsxs)("li",{children:["Move with"," ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:"W-A-S-D"})," "]}),Object(g.jsx)("br",{}),Object(g.jsxs)("li",{children:["Press ",Object(g.jsx)("span",{style:{fontWeight:"bold"},children:"Q"})," ","to Quit"]})]})}),Object(g.jsx)(d.a,{onClick:t.toGame,variant:"contained",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",width:"200px",fontFamily:"Futura, sans-serif"},children:"Play"})]})})}Object(n.a)((t=>({root:{display:"flex",flexWarp:"wrap"},textField:{marginLeft:t.spacing(1),marginRight:t.spacing(1)}})));const X=Object(h.a)({palette:{primary:u.a}});class _ extends a.a.Component{constructor(t){super(t),this.state={username:"",password:"",cpassword:"",email:"",birthday:"",first:"",last:"",errors:[],valid:[!1]},this.checkUsername=this.checkUsername.bind(this),this.checkPassword=this.checkPassword.bind(this),this.checkConfirmPassword=this.checkConfirmPassword.bind(this),this.checkEmail=this.checkEmail.bind(this),this.checkFirst=this.checkFirst.bind(this),this.checkLast=this.checkLast.bind(this),this.updateBirthday=this.updateBirthday.bind(this),this.checkRegistration=this.checkRegistration.bind(this)}componentDidMount(){}checkUsername(t){""===t.target.value?(this.state.errors.push("Username cannot be empty"),this.setState({username:t.target.value}),this.setState({valid:!1})):(this.setState({username:t.target.value}),this.setState({errors:[]}))}checkPassword(t){""===t.target.value?(this.state.errors.push("Password cannot be empty"),this.setState({password:t.target.value}),this.setState({valid:!1})):(this.setState({password:t.target.value}),this.setState({errors:[]}))}checkConfirmPassword(t){t.target.value!==this.state.password?(this.state.errors.push("Password must match"),this.setState({cpassword:t.target.value}),this.setState({valid:!1})):(this.setState({cpassword:t.target.value}),this.setState({errors:[]}))}checkEmail(t){""===t.target.value?(this.state.errors.push("Email cannot be empty"),this.setState({email:t.target.value}),this.setState({valid:!1})):(this.setState({email:t.target.value}),this.setState({errors:[]}))}checkFirst(t){""===t.target.value?(this.state.errors.push("First Name cannot be empty"),this.setState({first:t.target.value}),this.setState({valid:!1})):(this.setState({first:t.target.value}),this.setState({errors:[]}))}checkLast(t){""===t.target.value?(this.state.errors.push("Last Name cannot be empty"),this.setState({last:t.target.value}),this.setState({valid:!1})):(this.setState({last:t.target.value}),this.setState({errors:[]}))}updateBirthday(t){this.setState({birthday:t.target.value})}checkRegistration(){""===this.state.username?this.state.errors.push("Username cannot be empty"):""===this.state.password?this.state.errors.push("Password cannot be empty"):this.state.password!==this.state.cpassword?this.state.errors.push("Passwords must match"):""===this.state.email?this.state.errors.push("Email cannot be empty"):""===this.state.first?this.state.errors.push("First name cannot be empty"):""===this.state.last?this.state.errors.push("Last name cannot be empty"):this.props.toLogin(this.state.username,this.state.first,this.state.last,this.state.password,this.state.email,this.state.birthday)}render(){return Object(g.jsxs)("div",{className:"title",style:{textAlign:"center",background:"white",padding:"20px",borderRadius:"10px",fontFamily:"Futura, sans-serif",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(g.jsx)("h1",{style:{fontFamily:"Futura, sans-serif"},children:"Register"}),Object(g.jsx)(c.a,{InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},label:"Username",style:{margin:8},placeholder:"Create Username",onChange:this.checkUsername,fullWidth:!0,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},label:"First Name",style:{margin:8},placeholder:"Enter First Name",onChange:this.checkFirst,fullWidth:!0,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},label:"Last Name",style:{margin:8},placeholder:"Enter Last Name",onChange:this.checkLast,fullWidth:!0,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},label:"Password",type:"password",style:{margin:8},placeholder:"Create Password",fullWidth:!0,onChange:this.checkPassword,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},label:"Confirm Password",type:"password",style:{margin:8},placeholder:"Confirm Password",fullWidth:!0,onChange:this.checkConfirmPassword,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{InputProps:{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif"}},label:"Enter Email",style:{margin:8},placeholder:"Enter Email",fullWidth:!0,onChange:this.checkEmail,margin:"normal",variant:"outlined"}),Object(g.jsx)(c.a,{id:"date",label:"Birthday",type:"date",style:{margin:12},onChange:this.updateBirthday,InputLabelProps:{shrink:!0}}),Object(g.jsx)("p",{style:{borderRadius:"14px",fontFamily:"Futura, sans-serif",color:"#e1793d",fontWeight:"bold"},children:this.state.errors[this.state.errors.length-1]}),Object(g.jsxs)(l.a,{theme:X,children:[Object(g.jsx)(d.a,{onClick:this.checkRegistration,variant:"contained",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},fullWidth:!0,children:"Register"}),"\xa0 \xa0 \xa0 \xa0",Object(g.jsx)(d.a,{onClick:this.props.back,variant:"contained",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},fullWidth:!0,children:"Login"})]})]})}}var $=_;class tt extends a.a.Component{constructor(t){super(t)}componentDidMount(){!function(t){var e=H(255),s=H(255),i=H(255);G="rgba("+s+","+e+","+i+",1)",T=Math.random().toString(36).substring(7),U=new k(t,I,T,G),document.addEventListener("keydown",q),document.addEventListener("keyup",z)}(document.getElementById("stage")),J(),V(),B=setInterval((function(){Q={player:U.player.toJSON(),actions:U.getActions()},W.send(JSON.stringify(Q)),U.clearActions()}),20)}render(){return console.log("Gameview"),Object(g.jsx)("div",{onContextMenu:t=>t.preventDefault(),children:Object(g.jsx)("canvas",{id:"stage",width:800,height:800})})}}var et=tt;function st(){return Object(g.jsx)("div",{children:Object(g.jsx)("h2",{children:"Game Over"})})}var it=s(18),at=s(34);class ot extends a.a.Component{constructor(t){super(t)}render(){return console.log("Menu called"),Object(g.jsxs)("div",{children:[Object(g.jsxs)(it.a,{show:!0,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:5,height:150,width:500,backgroundColor:"white",borderRadius:"10px",disableAutoFocus:!0},backdrop:"static",keyboard:!1,children:[Object(g.jsx)(it.a.Header,{style:{display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"none"},children:Object(g.jsx)(it.a.Title,{style:{fontFamily:"Futura, sans-serif"},children:"Quit Menu"})}),Object(g.jsx)(it.a.Body,{style:{display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Futura, sans-serif"},children:"Are you sure you want to quit the game? All progress will be lost"}),Object(g.jsxs)(it.a.Footer,{style:{display:"flex",justifyContent:"center",alignItems:"center",borderTop:"none"},children:[Object(g.jsx)(at.a,{onClick:this.props.close,variant:"secondary",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},children:"Close"}),"\xa0 \xa0 \xa0 \xa0",Object(g.jsx)(at.a,{onClick:this.props.quit,variant:"primary",style:{borderRadius:"20px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},children:"Quit"})]})]}),Object(g.jsxs)(it.a,{show:!0,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:5,height:"auto",width:500,backgroundColor:"white",borderRadius:"10px",disableAutoFocus:!0,padding:"20px"},backdrop:"static",keyboard:!1,children:[Object(g.jsx)(it.a.Header,{style:{display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"none"},children:Object(g.jsx)(it.a.Title,{style:{fontFamily:"Futura, sans-serif",fontSize:"24px",fontWeight:"bold"},children:"Quit Menu"})}),Object(g.jsx)(it.a.Body,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"Futura, sans-serif",marginTop:"20px"},children:Object(g.jsx)("p",{children:"Are you sure you want to quit the game? All progress will be lost"})}),Object(g.jsxs)(it.a.Footer,{style:{display:"flex",justifyContent:"center",alignItems:"center",borderTop:"none",marginTop:"20px"},children:[Object(g.jsx)(at.a,{onClick:this.props.close,variant:"secondary",style:{borderRadius:"10px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold",marginRight:"20px"},children:"Close"}),Object(g.jsx)(at.a,{onClick:this.props.quit,variant:"primary",style:{borderRadius:"10px",backgroundColor:"#FF6F61",color:"white",fontWeight:"bold"},children:"Quit"})]})]})]})}}var rt=ot;class nt extends i.Component{constructor(){super(),this.state={username:"",highscore:null,email:"",firstname:"",lastname:"",birthday:"",password:"",showLogin:!0,showRegistration:!1,showPause:!1,showGame:!1,error:"",score:0,showGameOver:!1,showMenu:!1,mobile:!1,user:""},this.backToLogin=this.backToLogin.bind(this),this.backToPause=this.backToPause.bind(this),this.loginSuccess=this.showPause.bind(this),this.toRegistration=this.showRegistration.bind(this),this.registrationSuccess=this.showLogin.bind(this),this.playGame=this.showGame.bind(this),this.updateProfile=this.profileUpdate.bind(this),this.move=this.moveCharacter.bind(this),this.device=this.switchDevice.bind(this),this.showGameOver=this.showGameOver.bind(this),this.toggleQuitMenu=this.toggleQuitMenu.bind(this),this.delete=this.deleteProfile.bind(this),this.return=this.returnToPause.bind(this),window.appComponent=this}returnToPause(){this.setState({showLogin:!1,showPause:!0,showGame:!1,showRegistration:!1,showGameOver:!1})}componentDidMount(){this.interval=setInterval((()=>this.setState({score:this.state.score+10})),500)}toggleQuitMenu(){console.log("toggle called"),this.setState((t=>({showMenu:!t.showMenu}))),console.log("Show Menu val: ",this.state.showMenu)}componentWillUnmount(){clearInterval(this.intervalID)}backToLogin(){this.setState({showLogin:!0,showPause:!1,showGame:!1,showRegistration:!1,showGameOver:!1,showMenu:!1})}backToPause(){this.setState({showLogin:!1,showPause:!0,showGame:!1,showRegistration:!1,showGameOver:!1})}async showPause(t,e){const s=await async function(t,e){const s={method:"POST",headers:{Authorization:"Basic "+btoa(t+":"+e)},data:JSON.stringify({})},i=await fetch(D+"/api/login",s),a=await i.json();return!("error"in a)&&a}(t,e);!1!==s?(console.log(s),console.log(window.location.hostname),W=new WebSocket("ws://".concat(window.location.hostname,":8005")),console.log("CLIENT: ",W),W.onopen=function(t){console.log("connected")},W.onclose=function(t){alert("closed code:"+t.code+" reason:"+t.reason+" wasClean:"+t.wasClean)},W.onerror=function(t){console.error("WEBSOCKET: ",t)},W.onmessage=function(t){var e=t.data;I=JSON.parse(e),null!==U&&U.populateActors(I)},this.setState({showLogin:!1,showRegistration:!1,showGame:!1,showPause:!0,username:s.username,highscore:s.highscore,email:s.email,password:s.password,birthday:s.birthday,firstname:s.firstname,lastname:s.lastname,showGameOver:!1}),console.log(this.state.username),console.log(this.state.highscore)):this.setState({error:"Invalid Username or Password"})}showRegistration(){this.setState({showLogin:!1,showPause:!1,showGame:!1,showRegistration:!0,showGameOver:!1})}async showLogin(t,e,s,i,a,o){const r=await async function(t,e,s,i,a,o){const r={username:t,firstname:e,lastname:s,password:i,email:a,birthday:o};console.log(r);const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},h=await fetch(D+"/api/register",n);return"Success"in await h.json()}(t,e,s,i,a,o);r?this.setState({showLogin:!0,showPause:!1,showGame:!1,showRegistration:!1,showGameOver:!1,user:t,error:"Registered Successfuly"}):this.setState({showLogin:!0,showPause:!1,showGame:!1,showRegistration:!1,showGameOver:!1,error:"Username already taken"})}showGame(){this.setState({showLogin:!1,showPause:!1,showGame:!0,showRegistration:!1,showGameOver:!1})}showGameOver(){Y(this.state.username,this.state.score),this.setState({showLogin:!1,showPause:!1,showGame:!1,showRegistration:!1,showRegistration:!1,showGameOver:!0})}switchDevice(t){t?this.setState({mobile:!1}):this.setState({mobile:!0})}moveCharacter(t){!function(t){if(null!==U.getPlayer()&&U.player.score,null!==U.getPlayer()&&!U.isWon()){var e={1:new R(-E,0),2:new R(0,E),3:new R(E,0),4:new R(0,-E)};U.player.velocity=e[t]}}(t)}async updateScore(t,e){await Y(e,t)}async profileUpdate(t,e,s,i,a){const o=await async function(t,e,s,i,a,o){const r={username:t,firstname:e,lastname:s,password:i,email:a,birthday:o},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},h=await fetch(D+"/api/profile",n);return await h.json(),!0}(this.state.username,t,e,s,i,a);o&&this.setState({showLogin:!0,showPause:!1,showGame:!1,showRegistration:!1,error:"Profile Updated Successfuly"})}async deleteProfile(){console.log("got here"),async function(t){const e={username:t},s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},i=await fetch(D+"/api/delete",s);await i.json()}(this.state.username),this.setState({showLogin:!0,showPause:!1,showGame:!1,showRegistration:!1,error:"User deleted successfuly"})}render(){return Object(g.jsxs)("div",{children:[this.state.showLogin&&Object(g.jsx)(w,{loginHandler:this.loginSuccess,registrationHandler:this.toRegistration,error:this.state.error}),this.state.showRegistration&&Object(g.jsx)($,{toLogin:this.registrationSuccess,back:this.backToLogin}),this.state.showPause&&Object(g.jsx)(Z,{toGame:this.playGame,toUpdate:this.update,switch:this.device}),this.state.showGame&&Object(g.jsx)(et,{}),this.state.showGameOver&&Object(g.jsx)(st,{}),this.state.showMenu&&Object(g.jsx)(rt,{close:this.toggleQuitMenu,quit:this.backToLogin})]})}}var ht=nt;var lt=t=>{t&&t instanceof Function&&s.e(3).then(s.bind(null,120)).then((e=>{let{getCLS:s,getFID:i,getFCP:a,getLCP:o,getTTFB:r}=e;s(t),i(t),a(t),o(t),r(t)}))},ct=s(31),dt=(s(11),s(44));Object(n.a)((t=>({back:{backgroundColor:dt.a,textAlign:"center"}})));var ut=s(56);Object(ut.a)({forceRefresh:!0});a.a.Component;r.a.render(Object(g.jsx)(ct.a,{forceRefresh:!0,children:Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(ht,{})})}),document.getElementById("root")),lt()}},[[83,1,2]]]);
//# sourceMappingURL=main.47197193.chunk.js.map